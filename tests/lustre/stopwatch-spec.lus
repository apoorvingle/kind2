include "includes/auxilary_stopwatch_funs.lus"
include "includes/contract_stopwatch_spec.lus"

------------------------------
-- Stopwatch low-level spec --
------------------------------

node stopwatch ( toggle, reset : bool ) returns ( count : int );
(*@contract import stopwatchSpec(toggle, reset ) returns (count) ; *)
  var running : bool;
let
  running = (false -> pre running) <> toggle ;
  count =
    if reset then 0
    else if running then 1 -> pre count + 1
    else 0 -> pre count ;
tel
